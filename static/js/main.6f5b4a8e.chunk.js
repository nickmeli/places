(this.webpackJsonpkiko_places=this.webpackJsonpkiko_places||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(7),l=a.n(o),s=(a(13),a(1)),i=a(2),c=a(4),p=a(3),m=a(5),u=(a(14),function e(t,a,r,n,o,l,i){Object(s.a)(this,e),this.lat=0,this.lng=0,this.icon="",this.title="",this.infoWindowContent="",this.photo="",this.marker=void 0,this.infowindow=null,this.lat=t,this.lng=a,this.icon=r,this.title=n,this.infoWindowContent=o,this.photo=l,this.marker=i});function d(e){var t='<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">';return t+='<div class="card" style="width: 18rem; border: 0px solid rgba(0,0,0,.125);">'+'<img src="'.concat(e.photo,'" class="card-img-top" alt="...">')+'<div class="card-body">'+'<h5 class="card-title" style="color: #000;">'.concat(e.title,"</h5>")+"</div></div>"}var g=function e(){Object(s.a)(this,e)};g.createGoogleMap=function(e,t){return new window.google.maps.Map(e.current,{zoom:12,center:t,disableDefaultUI:!0})},g.createDrawingManager=function(e){var t=new window.google.maps.drawing.DrawingManager({defaultDrawingMode:"circle",drawingMode:window.google.maps.drawing.OverlayType.MARKER,drawingControl:!0,drawingControlOptions:{position:window.google.maps.ControlPosition.TOP_CENTER,drawingModes:["circle"]},markerOptions:{icon:"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"},circleOptions:{fillColor:"#000000",fillOpacity:.05,strokeWeight:2,clickable:!1,editable:!0,zIndex:1}});return t.setMap(e),t},g.setListeners=function(e,t){window.google.maps.event.addListener(e,"overlaycomplete",(function(e){t(e)}))},g.createMarker=function(e,t){var a=new window.google.maps.InfoWindow({content:d(e)});return e.infowindow=a,new window.google.maps.Marker({position:{lat:e.lat,lng:e.lng},map:t,infowindow:a})},g.createPlacesService=function(e){return new window.google.maps.places.PlacesService(e)};var h=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("div",{className:"card",style:{marginBottom:"5px"}},n.a.createElement("img",{src:this.props.Marker.photo,className:"card-img-top"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},this.props.Marker.title)))))}}]),t}(r.Component),v=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"places-list"},this.props.Markers.map((function(e,t){return n.a.createElement(h,{key:t,Marker:e})})))}}]),t}(r.Component),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).previusObjects=null,a.googleMapRef=n.a.createRef(),a.googleMap=void 0,a.drawingManager=void 0,a.placesService=void 0,a.currentLocation={},a.openedMarker=null,a.createPlacesService=function(){a.placesService=new window.google.maps.places.PlacesService(a.googleMap)},a.createMarker=function(e){var t=g.createMarker(e,a.googleMap);return t.addListener("click",(function(){a.openedMarker&&a.openedMarker.infowindow.close(a.googleMap,a.openedMarker),t.infowindow.open(a.googleMap,t),a.openedMarker=t})),t},a.overlayComplete=function(e){if(a.previusObjects&&a.previusObjects.overlay.setMap(null),a.previusObjects=e,"circle"==e.type){var t={lat:e.overlay.center.lat(),lng:e.overlay.center.lng()},r=e.overlay.radius,n={location:t,radius:r,type:[],name:""};"all"!=a.state.selected_type&&n.type.push(a.state.selected_type),a.state.keyword&&(n.name=a.state.keyword),a.setState({center:t,radius:r}),a.removeAllMarkers();var o=[];a.placesService.nearbySearch(n,(function(e,t){if(t===window.google.maps.places.PlacesServiceStatus.OK){for(var r=0;r<e.length;r++){var n=new u(e[r].geometry.location.lat(),e[r].geometry.location.lng(),e[r].icon,e[r].name,"",e[r].photos&&e[r].photos.length>0?e[r].photos[0].getUrl():"",null);n.marker=a.createMarker(n),o.push(n)}a.setState({markers:o})}else console.log("Error: ",t)}))}},a.removeAllMarkers=function(){var e=!0,t=!1,r=void 0;try{for(var n,o=a.state.markers[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){n.value.marker.setMap(null)}}catch(l){t=!0,r=l}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}},a.selectChanged=function(e){a.setState({selected_type:e.target.value},(function(){var e={location:a.state.center,radius:a.state.radius,type:[],name:""};"all"!=a.state.selected_type&&e.type.push(a.state.selected_type),a.state.keyword&&(e.name=a.state.keyword),a.removeAllMarkers();var t=[];a.placesService.nearbySearch(e,(function(e,r){if(r===window.google.maps.places.PlacesServiceStatus.OK){for(var n=0;n<e.length;n++){var o=new u(e[n].geometry.location.lat(),e[n].geometry.location.lng(),e[n].icon,e[n].name,"",e[n].photos&&e[n].photos.length>0?e[n].photos[0].getUrl():"",null);o.marker=a.createMarker(o),t.push(o)}a.setState({markers:t})}else console.log("Error: ",r)}))}))},a.inputChanged=function(e){a.setState({keyword:e.target.value},(function(){}))},a.keyDown=function(e){if("Enter"===e.key){var t={location:a.state.center,radius:a.state.radius,type:[],name:""};"all"!=a.state.selected_type&&t.type.push(a.state.selected_type),a.state.keyword&&(t.name=a.state.keyword),a.removeAllMarkers();var r=[];a.placesService.nearbySearch(t,(function(e,t){if(t===window.google.maps.places.PlacesServiceStatus.OK){for(var n=0;n<e.length;n++){var o=new u(e[n].geometry.location.lat(),e[n].geometry.location.lng(),e[n].icon,e[n].name,"",e[n].photos&&e[n].photos.length>0?e[n].photos[0].getUrl():"",null);o.marker=a.createMarker(o),r.push(o)}a.setState({markers:r})}else console.log("Error: ",t)}))}},a.state={markers:[],center:null,radius:0,selected_type:"all",keyword:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({markers:[]}),this.currentLocation={lat:53.797556,lng:-1.539957},this.googleMap=g.createGoogleMap(this.googleMapRef,this.currentLocation),this.drawingManager=g.createDrawingManager(this.googleMap),g.setListeners(this.drawingManager,this.overlayComplete),this.placesService=g.createPlacesService(this.googleMap)}},{key:"render",value:function(){return n.a.createElement("div",{className:"row",style:{marginRight:"0px"}},n.a.createElement("div",{className:"col-lg-3",style:{paddingLeft:"30px"}},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("div",{style:{textAlign:"left"}},n.a.createElement("div",{className:"alert alert-success",role:"alert",style:{marginBottom:"5px",marginTop:"5px"}},"Press the 'Circle' on the google maps at the TOP CENTER of the map to select the area."),n.a.createElement("div",{className:"form-group",style:{marginBottom:"5px"}},n.a.createElement("label",null,"Places type"),n.a.createElement("select",{value:this.state.selected_type,onChange:this.selectChanged,className:"form-control"},n.a.createElement("option",{value:"all"},"All"),n.a.createElement("option",{value:"bank"},"Bank"),n.a.createElement("option",{value:"bar"},"Bar"),n.a.createElement("option",{value:"museum"},"Museum"),n.a.createElement("option",{value:"restaurant"},"Restaurant"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Search for"),n.a.createElement("input",{type:"text",className:"form-control",id:"search_for",value:this.state.keyword,onChange:this.inputChanged,onKeyDown:this.keyDown}))))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement(v,{Markers:this.state.markers})))),n.a.createElement("div",{className:"col-lg-9",style:{paddingRight:"0px"}},n.a.createElement("div",{id:"google-map",ref:this.googleMapRef,style:{width:"100%",height:"100vh"}})))}}]),t}(r.Component),f=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"Home"},n.a.createElement(w,{ShowMarker:!1}))}}]),t}(n.a.Component),y=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(f,null))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(15);l.a.render(n.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,a){e.exports=a(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.6f5b4a8e.chunk.js.map